import{r as c,j as e,a as f}from"./index-iAOd7tfA.js";import{h as S}from"./Api-aYbiQ__Y.js";import{p as m,T as v,M as j,a as g}from"./Title-bqMz1Zyg.js";function b(t,r){const[n,o]=c.useState(t);return c.useEffect(()=>{const i=setTimeout(()=>o(t),r||500);return()=>{clearTimeout(i)}},[t,r]),n}const h=({handleChange:t,handleSubmit:r,value:n})=>e.jsx("form",{onSubmit:r,children:e.jsx("input",{type:"text",value:n,onChange:o=>t(o.target.value),placeholder:"type here"})});h.propTypes={value:m.string,handleChange:m.func,handleSubmit:m.func};const P=()=>{const[t,r]=c.useState([]),[n,o]=f(),[i,l]=c.useState(n.get("query")||""),u=b(i,500),p=s=>{o(s!==""&&{query:s})};c.useEffect(()=>{(async()=>{try{const a=await S(u);r(a)}catch(a){console.error(a)}})()},[u]);const d=s=>{s.preventDefault()},x=(s,a)=>{l(s),p(a)};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:" Movie Search"}),e.jsx(h,{handleSubmit:d,handleChange:x,value:i}),e.jsxs(j,{children:[e.jsx(g,{item:t}),t.length===0&&u&&e.jsx("div",{children:"There is no film!"})]})]})};export{P as default};
